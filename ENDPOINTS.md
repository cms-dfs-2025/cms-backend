# Адреса запросов к серверу

Фронтенд имеет путь `/`. Все адреса запросов к API сервера начинаются с
`/api/`. Сообщения ошибок от сервера содержатся в теле ответа в формате
JSON-объекта типа
```json
{
    "message": "message"
}
```

## Авторизация

`POST /api/signup`. Создание пользователя. Запрос должен содержать информацию о
пользователе в теле в виде JSON-объекта типа
```json
{
    "handle": "AzureDiamond",
    "password": "hunter2"
}
```
. Если тело запроса в некорректном формате, сервер вернет статус 400. Если
пользователь с данным `handle` уже существует, сервер вернет статус 500 и
сообщение "User already exists". Если во время создания пользователя произошла
ошибка, сервер вернет статус 500 и сообщение "Internal error". Иначе
пользователь будет создан, сервер вернет статус 200.

`POST /api/login`. Проверка верности пароля. Требует авторизацию (см. ниже).
Пустой запрос. Сервер вернет статус 200.

**Авторизация.** Некоторые запросы требуют авторизацию. Это означает, что перед
обработкой запроса сервер проверяет, авторизован ли запрос. Запрос авторизован,
если он содержит заголовок
```
Authorization: Basic base64(base64(handle):password)
```
, где `base64` - кодирование строки в кодировке UTF8 согласно
[RFC 4648](https://www.rfc-editor.org/rfc/rfc4648). Например, для пользователя
AzureDiamond с паролем hunter2 получим
```
handle = "AzureDiamond"
password = "hunter2"
base64(handle) = "QXp1cmVEaWFtb25k"
base64(base64(handle) + ":" + password)
    = base64("QXp1cmVEaWFtb25k:hunter2")
    = "UVhwMWNtVkVhV0Z0YjI1azpodW50ZXIy"
```
. Тогда заголовок авторизации будет следующим:
```
Authorization: Basic UVhwMWNtVkVhV0Z0YjI1azpodW50ZXIy
```
. Если заголовок `Authorization` отсутствует или в некорректном формате, сервер
вернет статус 401 и сообщение "Basic auth error". Если пользователь не
существует или пароль не верный, сервер вернет статус 401 и сообщение
"Unauthorized". Иначе сервер обработает запрос согласно документации. В
документации запросов, требующих авторизацию, не описаны ошибки авторизации.
Например, в документации запроса `POST /api/login` подразумевается, что сервер
вернет статус 200, *если* запрос авторизован.

`POST /api/change_pw`. Смена пароля. Требует авторизацию. Запрос должен
содержать новый пароль в теле в виде JSON-объекта типа
```json
{
    "password": "hunter1"
}
```
. Если тело в некорректном формате, сервер вернет статус 400. Если во время
смены пароля произошла ошибка, сервер вернет статус 500. Иначе пароль будет
сменен, сервер вернет статус 200.

## Работа со статьями
